<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人技术博客</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/line-numbers/prism-line-numbers.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/material-darker.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/scroll/simplescrollbars.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="brand-container">
                <a href="/" class="nav-brand">技术博客</a>
            </div>
            <ul class="nav-links">
                <li class="nav-item"><a href="/">首页</a></li>
                <li class="nav-item dropdown">
                    <a href="#">关于</a>
                    <ul class="dropdown-menu">
                        <li><a href="https://github.com/NorthDudu-Bird" target="_blank"><i class="fab fa-github"></i> Github</a></li>
                        <!--<li><a href="#"><i class="fab fa-qq"></i> QQ</a></li>-->
                        <!--<li><a href="#"><i class="fab fa-weixin"></i> 微信</a></li>-->
                    </ul>
                </li>
                <li class="nav-item">

                    <button id="themeToggle" class="theme-btn">
                        <i class="fas fa-moon"></i> 暗色
                    </button>
                </li>
            </ul>
        </div>
    </nav>

    <div class="admin-modal" id="adminModal">
        <div class="modal-content">
            <h2>管理员登录</h2>
            <div class="form-group">
                <input type="text" id="adminUser" placeholder="用户名" class="form-input">
            </div>
            <div class="form-group">
                <input type="password" id="adminPass" placeholder="密码" class="form-input">
            </div>
            <button id="modalLogin" class="btn primary">登录</button>
        </div>
    </div>

    <!-- 普通用户视图 -->
    <main class="container" id="userView">
        <div id="posts-container"></div>
    </main>

    <!-- 管理员视图 -->
    <div class="container" id="adminView" style="display:none;">
        <div class="admin-panel">
            <h2>内容管理</h2>
            <!-- 文章管理表单 -->
            <form id="postForm" class="post-form">
                <div class="form-group">
                    <input type="text" id="title" placeholder="文章标题" required>
                </div>
                <div class="editor-container">
                    <div class="editor-toolbar">
                        <!-- 文本格式 -->
                        <div class="toolbar-group">
                            <button type="button" class="toolbar-btn" title="标题 1"><i class="fas fa-heading"></i>1</button>
                            <button type="button" class="toolbar-btn" title="标题 2"><i class="fas fa-heading"></i>2</button>
                            <button type="button" class="toolbar-btn" title="标题 3"><i class="fas fa-heading"></i>3</button>
                        </div>
                        <div class="toolbar-divider"></div>
                        <div class="toolbar-group">
                            <button type="button" class="toolbar-btn" title="加粗"><i class="fas fa-bold"></i></button>
                            <button type="button" class="toolbar-btn" title="斜体"><i class="fas fa-italic"></i></button>
                            <button type="button" class="toolbar-btn" title="删除线"><i class="fas fa-strikethrough"></i></button>
                        </div>
                        <div class="toolbar-divider"></div>
                        <!-- 列表 -->
                        <div class="toolbar-group">
                            <button type="button" class="toolbar-btn" title="无序列表"><i class="fas fa-list-ul"></i></button>
                            <button type="button" class="toolbar-btn" title="有序列表"><i class="fas fa-list-ol"></i></button>
                            <button type="button" class="toolbar-btn" title="任务列表"><i class="fas fa-tasks"></i></button>
                        </div>
                        <div class="toolbar-divider"></div>
                        <!-- 其他功能 -->
                        <div class="toolbar-group">
                            <button type="button" class="toolbar-btn" title="引用"><i class="fas fa-quote-right"></i></button>
                            <button type="button" class="toolbar-btn" title="代码块"><i class="fas fa-code"></i></button>
                            <button type="button" class="toolbar-btn" title="链接"><i class="fas fa-link"></i></button>
                            <button type="button" class="toolbar-btn" title="图片"><i class="fas fa-image"></i></button>
                            <button type="button" class="toolbar-btn" title="表格"><i class="fas fa-table"></i></button>
                        </div>
                    </div>
                    <textarea id="content" placeholder="在这里输入文章内容..." required></textarea>
                </div>
                <div class="form-group">
                    <input type="text" id="author" placeholder="作者（默认匿名）">
                </div>
                <div class="form-actions">
                    <button type="button" class="btn primary" id="publishBtn">
                        <i class="fas fa-paper-plane"></i> 发布文章
                    </button>
                    <button type="button" class="btn secondary" id="saveDraftBtn">
                        <i class="fas fa-save"></i> 保存草稿
                    </button>
                </div>
            </form>
            
            <!-- 草稿箱 -->
            <div class="section-header">
                <h3>草稿箱</h3>
                <button class="btn secondary" onclick="loadDrafts()">
                    <i class="fas fa-sync-alt"></i> 刷新
                </button>
            </div>
            <div id="adminDraftsContainer"></div>
            
            <!-- 已发布文章 -->
            <div class="section-header">
                <h3>已发布文章</h3>
                <button class="btn secondary" onclick="loadAdminPosts()">
                    <i class="fas fa-sync-alt"></i> 刷新
                </button>
            </div>
            <div id="adminPostsContainer"></div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <a href="#" class="admin-entry" onclick="showAdminLogin()" style="display: none;">
                    <i class="fas fa-lock"></i> 管理员入口
                </a>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.2/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/markdown/markdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/gfm/gfm.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/mode/overlay.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/hint/show-hint.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/scroll/simplescrollbars.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/selection/active-line.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/selection/mark-selection.js"></script>
</body>
</html>
